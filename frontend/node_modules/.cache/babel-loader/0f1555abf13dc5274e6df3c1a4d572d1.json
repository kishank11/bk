{"ast":null,"code":"var _jsxFileName = \"/Volumes/KK/book-keeping-app-main/frontend/src/components/Books/BookDetail.js\";\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchBook, updateBook } from '../../redux/actions/books/bookActions';\n\nconst BookDetail = ({\n  history\n}) => {\n  const {\n    id\n  } = useParams(); //Get the book details and fill it in the form\n\n  const bookDetails = useSelector(state => state.bookDetails);\n  const {\n    book,\n    loading\n  } = bookDetails;\n  const [category, setCategory] = useState(book && !loading && book.category);\n  const [title, setTitle] = useState(book && !loading && book.title);\n  const [author, setAuthor] = useState(book && book.author);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(fetchBook(id));\n  }, [dispatch, id]); //dispatch action\n\n  const formSubmitHandler = e => {\n    const data = {\n      category,\n      title,\n      author\n    };\n    e.preventDefault();\n    dispatch(updateBook(id, data));\n    history.push('/books');\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row container-height\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-6 col-md-6 m-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, book ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 15\n    }\n  }, \"Update\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: formSubmitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"fieldset\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    value: category,\n    onChange: e => setCategory(e.target.value),\n    className: \"custom-select\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    defaultValue: \"programming\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 23\n    }\n  }, \"programming\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"religion\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 23\n    }\n  }, \"Religion\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"life\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 23\n    }\n  }, \"life\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"culture\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 23\n    }\n  }, \"culture\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"exampleInputEmail1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 21\n    }\n  }, \"Author \"), /*#__PURE__*/React.createElement(\"input\", {\n    value: author,\n    onChange: e => setAuthor(e.target.value),\n    type: \"text\",\n    className: \"form-control\",\n    id: \"exampleInputEmail1\",\n    \"aria-describedby\": \"emailHelp\",\n    placeholder: \"Author name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"exampleInputPassword1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  }, \"title\"), /*#__PURE__*/React.createElement(\"input\", {\n    value: title,\n    onChange: e => setTitle(e.target.value),\n    type: \"text\",\n    className: \"form-control\",\n    id: \"exampleInputPassword1\",\n    placeholder: \"Book title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-dark m-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 19\n    }\n  }, \"Create Book\")))) : 'No')));\n};\n\nexport default BookDetail;","map":{"version":3,"sources":["/Volumes/KK/book-keeping-app-main/frontend/src/components/Books/BookDetail.js"],"names":["React","useEffect","useState","useParams","useDispatch","useSelector","fetchBook","updateBook","BookDetail","history","id","bookDetails","state","book","loading","category","setCategory","title","setTitle","author","setAuthor","dispatch","formSubmitHandler","e","data","preventDefault","push","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchBook, updateBook } from '../../redux/actions/books/bookActions';\n\nconst BookDetail = ({ history }) => {\n  const { id } = useParams();\n\n  //Get the book details and fill it in the form\n  const bookDetails = useSelector(state => state.bookDetails);\n\n  const { book, loading } = bookDetails;\n\n  const [category, setCategory] = useState(book && !loading && book.category);\n  const [title, setTitle] = useState(book && !loading && book.title);\n  const [author, setAuthor] = useState(book && book.author);\n\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(fetchBook(id));\n  }, [dispatch, id]);\n\n  //dispatch action\n\n  const formSubmitHandler = e => {\n    const data = {\n      category,\n      title,\n      author,\n    };\n    e.preventDefault();\n    dispatch(updateBook(id, data));\n    history.push('/books');\n  };\n  return (\n    <div className='row container-height'>\n      <div className='col-lg-6 col-md-6 m-auto'>\n        <div className='container'>\n          {book ? (\n            <>\n              <h1 className='text-center'>Update</h1>\n              <form onSubmit={formSubmitHandler}>\n                <fieldset>\n                  <div className='form-group'>\n                    <select\n                      value={category}\n                      onChange={e => setCategory(e.target.value)}\n                      className='custom-select'>\n                      <option defaultValue='programming'>programming</option>\n                      <option value='religion'>Religion</option>\n                      <option value='life'>life</option>\n                      <option value='culture'>culture</option>\n                    </select>\n                  </div>\n                  <div className='form-group'>\n                    <label htmlFor='exampleInputEmail1'>Author </label>\n                    <input\n                      value={author}\n                      onChange={e => setAuthor(e.target.value)}\n                      type='text'\n                      className='form-control'\n                      id='exampleInputEmail1'\n                      aria-describedby='emailHelp'\n                      placeholder='Author name'\n                    />\n                  </div>\n                  <div className='form-group'>\n                    <label htmlFor='exampleInputPassword1'>title</label>\n                    <input\n                      value={title}\n                      onChange={e => setTitle(e.target.value)}\n                      type='text'\n                      className='form-control'\n                      id='exampleInputPassword1'\n                      placeholder='Book title'\n                    />\n                  </div>\n                  <button type='submit' className='btn btn-dark m-auto'>\n                    Create Book\n                  </button>\n                </fieldset>\n              </form>\n            </>\n          ) : (\n            'No'\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default BookDetail;\n"]},"metadata":{},"sourceType":"module"}