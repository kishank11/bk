{"ast":null,"code":"var _jsxFileName = \"/Volumes/KK/book-keeping-app-main/frontend/src/components/UpdateProfile/UpdateProfile.js\";\nimport React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { updateUser } from '../../redux/actions/users/userActions';\nimport SuccessMessage from '../DisplayMessage/SuccessMessage';\n\nconst UpdateProfile = ({\n  history\n}) => {\n  //Get the user from localstorage and pass to the initial states\n  const userLogin = useSelector(state => state.userLogin);\n  const {\n    userInfo\n  } = userLogin;\n  console.log(userInfo);\n  const [name, setname] = useState(userInfo ? userInfo.name : '');\n  const [email, setemail] = useState(userInfo ? userInfo.email : '');\n  const [password, setpassword] = useState('');\n  console.log(userLogin); //Get the updated user details from store and display message\n\n  const updatedUser = useSelector(state => state.updatedUser);\n  const {\n    user,\n    loading,\n    success\n  } = updatedUser; //dispatch\n\n  const dispatch = useDispatch(); //submit\n\n  const formSubmitHandler = e => {\n    e.preventDefault();\n    dispatch(updateUser(name, email, password));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row container-height\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-6 col-md-6 m-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }, user && !loading && success && /*#__PURE__*/React.createElement(SuccessMessage, {\n    msg: \"Updated successfully. Logout and login with your new credentials\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 11\n    }\n  }, \"Update\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: formSubmitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"fieldset\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"exampleInputEmail1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"input\", {\n    value: name,\n    onChange: e => setname(e.target.value),\n    type: \"text\",\n    className: \"form-control\",\n    id: \"exampleInputEmail1\",\n    \"aria-describedby\": \"emailHelp\",\n    placeholder: \"Enter Name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"exampleInputEmail1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  }, \"Email address\"), /*#__PURE__*/React.createElement(\"input\", {\n    value: email,\n    onChange: e => setemail(e.target.value),\n    type: \"email\",\n    className: \"form-control\",\n    id: \"exampleInputEmail1\",\n    \"aria-describedby\": \"emailHelp\",\n    placeholder: \"Enter email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"exampleInputPassword1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    value: password,\n    onChange: e => setpassword(e.target.value),\n    type: \"password\",\n    className: \"form-control\",\n    id: \"exampleInputPassword1\",\n    placeholder: \"Password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-primary m-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 15\n    }\n  }, \"Update your profile\"))))));\n};\n\nexport default UpdateProfile;","map":{"version":3,"sources":["/Volumes/KK/book-keeping-app-main/frontend/src/components/UpdateProfile/UpdateProfile.js"],"names":["React","useState","useDispatch","useSelector","updateUser","SuccessMessage","UpdateProfile","history","userLogin","state","userInfo","console","log","name","setname","email","setemail","password","setpassword","updatedUser","user","loading","success","dispatch","formSubmitHandler","e","preventDefault","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AAEA,SAASC,UAAT,QAA2B,uCAA3B;AAEA,OAAOC,cAAP,MAA2B,kCAA3B;;AAEA,MAAMC,aAAa,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAiB;AACrC;AACA,QAAMC,SAAS,GAAGL,WAAW,CAACM,KAAK,IAAIA,KAAK,CAACD,SAAhB,CAA7B;AACA,QAAM;AAAEE,IAAAA;AAAF,MAAeF,SAArB;AACAG,EAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACA,QAAM,CAACG,IAAD,EAAOC,OAAP,IAAkBb,QAAQ,CAACS,QAAQ,GAAGA,QAAQ,CAACG,IAAZ,GAAmB,EAA5B,CAAhC;AACA,QAAM,CAACE,KAAD,EAAQC,QAAR,IAAoBf,QAAQ,CAACS,QAAQ,GAAGA,QAAQ,CAACK,KAAZ,GAAoB,EAA7B,CAAlC;AACA,QAAM,CAACE,QAAD,EAAWC,WAAX,IAA0BjB,QAAQ,CAAC,EAAD,CAAxC;AAEAU,EAAAA,OAAO,CAACC,GAAR,CAAYJ,SAAZ,EATqC,CAUrC;;AACA,QAAMW,WAAW,GAAGhB,WAAW,CAACM,KAAK,IAAIA,KAAK,CAACU,WAAhB,CAA/B;AACA,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA,OAAR;AAAiBC,IAAAA;AAAjB,MAA6BH,WAAnC,CAZqC,CAcrC;;AACA,QAAMI,QAAQ,GAAGrB,WAAW,EAA5B,CAfqC,CAgBrC;;AACA,QAAMsB,iBAAiB,GAAGC,CAAC,IAAI;AAC7BA,IAAAA,CAAC,CAACC,cAAF;AACAH,IAAAA,QAAQ,CAACnB,UAAU,CAACS,IAAD,EAAOE,KAAP,EAAcE,QAAd,CAAX,CAAR;AACD,GAHD;;AAKA,sBACE;AAAK,IAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGG,IAAI,IAAI,CAACC,OAAT,IAAoBC,OAApB,iBACC,oBAAC,cAAD;AAAgB,IAAA,GAAG,EAAC,kEAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,eAIE;AAAI,IAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF,eAME;AAAM,IAAA,QAAQ,EAAEE,iBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,OAAO,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AACE,IAAA,KAAK,EAAEX,IADT;AAEE,IAAA,QAAQ,EAAEY,CAAC,IAAIX,OAAO,CAACW,CAAC,CAACE,MAAF,CAASC,KAAV,CAFxB;AAGE,IAAA,IAAI,EAAC,MAHP;AAIE,IAAA,SAAS,EAAC,cAJZ;AAKE,IAAA,EAAE,EAAC,oBALL;AAME,wBAAiB,WANnB;AAOE,IAAA,WAAW,EAAC,YAPd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,eAaE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,OAAO,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,eAEE;AACE,IAAA,KAAK,EAAEb,KADT;AAEE,IAAA,QAAQ,EAAEU,CAAC,IAAIT,QAAQ,CAACS,CAAC,CAACE,MAAF,CAASC,KAAV,CAFzB;AAGE,IAAA,IAAI,EAAC,OAHP;AAIE,IAAA,SAAS,EAAC,cAJZ;AAKE,IAAA,EAAE,EAAC,oBALL;AAME,wBAAiB,WANnB;AAOE,IAAA,WAAW,EAAC,aAPd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAbF,eAyBE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,OAAO,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AACE,IAAA,KAAK,EAAEX,QADT;AAEE,IAAA,QAAQ,EAAEQ,CAAC,IAAIP,WAAW,CAACO,CAAC,CAACE,MAAF,CAASC,KAAV,CAF5B;AAGE,IAAA,IAAI,EAAC,UAHP;AAIE,IAAA,SAAS,EAAC,cAJZ;AAKE,IAAA,EAAE,EAAC,uBALL;AAME,IAAA,WAAW,EAAC,UANd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAzBF,eAoCE;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,SAAS,EAAC,wBAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BApCF,CADF,CANF,CADF,CADF,CADF;AAuDD,CA7ED;;AA+EA,eAAetB,aAAf","sourcesContent":["import React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { updateUser } from '../../redux/actions/users/userActions';\n\nimport SuccessMessage from '../DisplayMessage/SuccessMessage';\n\nconst UpdateProfile = ({ history }) => {\n  //Get the user from localstorage and pass to the initial states\n  const userLogin = useSelector(state => state.userLogin);\n  const { userInfo } = userLogin;\n  console.log(userInfo);\n  const [name, setname] = useState(userInfo ? userInfo.name : '');\n  const [email, setemail] = useState(userInfo ? userInfo.email : '');\n  const [password, setpassword] = useState('');\n\n  console.log(userLogin);\n  //Get the updated user details from store and display message\n  const updatedUser = useSelector(state => state.updatedUser);\n  const { user, loading, success } = updatedUser;\n\n  //dispatch\n  const dispatch = useDispatch();\n  //submit\n  const formSubmitHandler = e => {\n    e.preventDefault();\n    dispatch(updateUser(name, email, password));\n  };\n\n  return (\n    <div className='row container-height'>\n      <div className='col-lg-6 col-md-6 m-auto'>\n        <div className='container'>\n          {user && !loading && success && (\n            <SuccessMessage msg='Updated successfully. Logout and login with your new credentials' />\n          )}\n          <h1 className='text-center'>Update</h1>\n\n          <form onSubmit={formSubmitHandler}>\n            <fieldset>\n              <div className='form-group'>\n                <label htmlFor='exampleInputEmail1'>Name</label>\n                <input\n                  value={name}\n                  onChange={e => setname(e.target.value)}\n                  type='text'\n                  className='form-control'\n                  id='exampleInputEmail1'\n                  aria-describedby='emailHelp'\n                  placeholder='Enter Name'\n                />\n              </div>\n              <div className='form-group'>\n                <label htmlFor='exampleInputEmail1'>Email address</label>\n                <input\n                  value={email}\n                  onChange={e => setemail(e.target.value)}\n                  type='email'\n                  className='form-control'\n                  id='exampleInputEmail1'\n                  aria-describedby='emailHelp'\n                  placeholder='Enter email'\n                />\n              </div>\n              <div className='form-group'>\n                <label htmlFor='exampleInputPassword1'>Password</label>\n                <input\n                  value={password}\n                  onChange={e => setpassword(e.target.value)}\n                  type='password'\n                  className='form-control'\n                  id='exampleInputPassword1'\n                  placeholder='Password'\n                />\n              </div>\n              <button type='submit' className='btn btn-primary m-auto'>\n                Update your profile\n              </button>\n            </fieldset>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default UpdateProfile;\n"]},"metadata":{},"sourceType":"module"}